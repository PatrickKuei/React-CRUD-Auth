(this["webpackJsonpreact-crud"]=this["webpackJsonpreact-crud"]||[]).push([[0],{41:function(e,t,n){e.exports=n(68)},46:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(33),c=n.n(r),o=(n(46),n(3));var u=function(e){return l.a.createElement("div",null,"Home Page")},i=n(40),m=n(1),d=Object(a.createContext)();function s(){return Object(a.useContext)(d)}var E=function(e){var t=e.component,n=Object(i.a)(e,["component"]),a=s().authTokens;return l.a.createElement(m.b,Object.assign({},n,{render:function(e){return a?l.a.createElement(t,e):l.a.createElement(m.a,{to:"/login"})}}))},b=n(8),p=n(39),g=n(13),h=n(14),f=function(e){var t=e.addUser,n=e.handleClick,r={id:null,gameId:"",name:"",username:"",joinTime:"",identity:""},c=Object(a.useState)(r),u=Object(o.a)(c,2),i=u[0],m=u[1],d=function(e){var t=e.target,n=t.name,a=t.value;m(Object(h.a)(Object(h.a)({},i),{},Object(g.a)({},n,a)))};return l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),i.name&&i.username&&(n(),t(i),m(r))}},l.a.createElement("label",null,"\u904a\u6232ID"),l.a.createElement("input",{type:"number",name:"gameId",value:i.gameId,placeholder:"number only",onChange:d}),l.a.createElement("label",null,"LINE\u540d\u7a31"),l.a.createElement("input",{type:"text",name:"name",value:i.name,placeholder:"Tania",onChange:d}),l.a.createElement("label",null,"LINE ID"),l.a.createElement("input",{type:"text",name:"username",value:i.username,placeholder:"floppydiskette",onChange:d}),l.a.createElement("label",null,"\u5165\u6703\u6642\u9593"),l.a.createElement("input",{type:"datetime-local",name:"joinTime",value:i.joinTime,placeholder:"1995-12-17 03:24",onChange:d}),l.a.createElement("label",null,"\u8eab\u5206"),l.a.createElement("input",{type:"text",name:"identity",value:i.identity,placeholder:"\u80a1\u6771/\u6703\u9577",onChange:d}),l.a.createElement("button",null,"Add new user"),l.a.createElement("button",{onClick:function(){m(r),n()},className:"button muted-button"},"Cancel"))},v=function(e){var t=Object(a.useState)(e.currentUser),n=Object(o.a)(t,2),r=n[0],c=n[1];Object(a.useEffect)((function(){c(e.currentUser)}),[e]);var u=function(e){var t=e.target,n=t.name,a=t.value;c(Object(h.a)(Object(h.a)({},r),{},Object(g.a)({},n,a)))};return l.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.handleClick(),e.updateUser(r.id,r)}},l.a.createElement("label",null,"\u904a\u6232ID"),l.a.createElement("input",{type:"text",name:"gameId",value:r.gameId,onChange:u}),l.a.createElement("label",null,"LINE\u540d\u7a31"),l.a.createElement("input",{type:"text",name:"name",value:r.name,onChange:u}),l.a.createElement("label",null,"LINE ID"),l.a.createElement("input",{type:"text",name:"username",value:r.username,onChange:u}),l.a.createElement("label",null,"\u5165\u6703\u6642\u9593"),l.a.createElement("input",{type:"datetime-local",name:"joinTime",value:r.joinTime,onChange:u}),l.a.createElement("label",null,"\u8eab\u5206"),l.a.createElement("input",{type:"text",name:"identity",value:r.identity,onChange:u}),l.a.createElement("button",null,"Update user"),l.a.createElement("button",{onClick:function(){e.setEditing(!1),e.handleClick()},className:"button muted-button"},"Cancel"))},j=function(e){return l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"\u904a\u6232ID"),l.a.createElement("th",null,"LINE\u540d\u7a31"),l.a.createElement("th",null,"LINE ID"),l.a.createElement("th",null,"\u5165\u6703\u6642\u9593"),l.a.createElement("th",null,"\u8eab\u5206"),l.a.createElement("th",null,"\u7ba1\u7406"))),l.a.createElement("tbody",null,e.users.length>0?e.users.map((function(t){return l.a.createElement("tr",{key:t.id},l.a.createElement("td",null,t.gameId),l.a.createElement("td",null,t.name),l.a.createElement("td",null,t.username),l.a.createElement("td",null,t.joinTime.replace("T"," ")),l.a.createElement("td",null,t.identity),l.a.createElement("td",null,l.a.createElement("button",{onClick:function(){e.editRow(t),e.handleClick()},className:"button muted-button"},"Edit"),l.a.createElement("button",{onClick:function(){return e.deleteUser(t.id)},className:"button muted-button"},"Delete")))})):l.a.createElement("tr",null,l.a.createElement("td",{colSpan:3},"No users"))))},y=n(34),O=n.n(y),k=n(10),w=n(11);function C(){var e=Object(k.a)(["\n  background-color: red;\n"]);return C=function(){return e},e}function x(){var e=Object(k.a)(["\n  width: 50%;\n  margin-bottom: 1rem;\n"]);return x=function(){return e},e}function I(){var e=Object(k.a)(["\n  background: linear-gradient(to bottom, #6371c7, #5563c1);\n  border-color: #3f4eae;\n  border-radius: 3px;\n  padding: 1rem;\n  color: white;\n  font-weight: 700;\n  width: 100%;\n  margin-bottom: 1rem;\n  font-size: 0.8rem;\n"]);return I=function(){return e},e}function T(){var e=Object(k.a)(["\n  padding: 1rem;\n  border: 1px solid #999;\n  margin-bottom: 1rem;\n  font-size: 0.8rem;\n"]);return T=function(){return e},e}function S(){var e=Object(k.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n"]);return S=function(){return e},e}function N(){var e=Object(k.a)(["\n  box-sizing: border-box;\n  max-width: 410px;\n  margin: 0 auto;\n  padding: 0 2rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return N=function(){return e},e}var U=w.a.div(N()),D=w.a.div(S()),A=w.a.input(T()),L=w.a.button(I()),J=(w.a.img(x()),w.a.div(C())),P=function(){var e=Object(a.useState)([{id:1,gameId:"1029238",name:"Tania",username:"floppydiskette",joinTime:"1995-12-17 03:24",identity:"\u80a1\u6771/\u6703\u9577"},{id:2,gameId:"1293920",name:"Tony",username:"aaaaaaaaaaaaa",joinTime:"1995-12-17 03:24",identity:"\u7e3d\u4ee3\u7406/\u526f\u6703\u9577"},{id:3,gameId:"0293818",name:"Frank",username:"qwefa",joinTime:"1995-12-17 03:24",identity:"\u4ee3\u7406/\u526f\u6703\u9577"}]),t=Object(o.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)({id:null,gameId:"",name:"",username:"",joinTime:"",identity:""}),u=Object(o.a)(c,2),i=u[0],m=u[1],d=Object(a.useState)(!1),E=Object(o.a)(d,2),b=E[0],g=E[1],h=Object(a.useState)(!1),y=Object(o.a)(h,2),k=y[0],w=y[1],C=function(){w(!k)},x=s().setAuthTokens;return l.a.createElement("div",{className:"container"},l.a.createElement(L,{style:{width:"82px"},onClick:function(){x()}},"Log out"),l.a.createElement("div",{className:"flex-row",style:{position:"relative"}},l.a.createElement(O.a,{show:k},l.a.createElement("div",{className:"flex-large",style:{position:"absolute",backgroundColor:"white",top:"32px",left:"300px",border:"2px solid black",width:"600px"}},b?l.a.createElement(a.Fragment,null,l.a.createElement("h2",null,"Edit user"),l.a.createElement(v,{handleClick:C,editing:b,setEditing:g,currentUser:i,updateUser:function(e,t){g(!1),r(n.map((function(n){return n.id===e?t:n})))}})):l.a.createElement(a.Fragment,null,l.a.createElement("h2",null,"Add user"),l.a.createElement(f,{addUser:function(e){e.id=n.length+1,r([].concat(Object(p.a)(n),[e]))},handleClick:C})))),l.a.createElement("div",{className:"flex-large"},l.a.createElement("h2",null,"\u4ff1\u6a02\u90e8\u6703\u54e1(",n.length,"/500)"),l.a.createElement("button",{onClick:C},"Add user"),l.a.createElement(j,{users:n,editRow:function(e){g(!0),m({id:e.id,name:e.name,username:e.username,gameId:e.gameId,joinTime:e.joinTime,identity:e.identity})},deleteUser:function(e){g(!1),r(n.filter((function(t){return t.id!==e})))},handleClick:C}))))};n(38);var z=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),u=Object(o.a)(c,2),i=u[0],d=(u[1],Object(a.useState)("")),E=Object(o.a)(d,2),p=E[0],g=E[1],h=Object(a.useState)(""),f=Object(o.a)(h,2),v=f[0],j=f[1],y=s().setAuthTokens;return n?l.a.createElement(m.a,{to:"/admin"}):l.a.createElement(U,null,l.a.createElement(D,null,l.a.createElement(A,{type:"username",value:p,onChange:function(e){g(e.target.value)},placeholder:"email"}),l.a.createElement(A,{type:"password",value:v,onChange:function(e){j(e.target.value)},placeholder:"password"}),l.a.createElement(L,{onClick:function(){r(!0),y({authTokens:"some token string",setAuthTokens:console.log("")})}},"Sign In")),l.a.createElement(b.b,{to:"/signup"},"Don't have an account?"),i&&l.a.createElement(J,null,"The username or password provided were incorrect!"))};var F=function(){return l.a.createElement(U,null,l.a.createElement(D,null,l.a.createElement(A,{type:"email",placeholder:"email"}),l.a.createElement(A,{type:"password",placeholder:"password"}),l.a.createElement(A,{type:"password",placeholder:"password again"}),l.a.createElement(L,null,"Sign Up")),l.a.createElement(b.b,{to:"/login"},"Already have an account?"))},B=function(){localStorage.clear();var e=JSON.parse(localStorage.getItem("tokens")),t=Object(a.useState)(e),n=Object(o.a)(t,2),r=n[0],c=n[1];return l.a.createElement(d.Provider,{value:{authTokens:r,setAuthTokens:function(e){localStorage.setItem("tokens",JSON.stringify(e)),c(e)}}},l.a.createElement(b.a,null,l.a.createElement("div",null,l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(b.b,{to:"/"},"Home Page")),l.a.createElement("li",null,l.a.createElement(b.b,{to:"/admin"},"Admin Page"))),l.a.createElement(m.b,{exact:!0,path:"/",component:u}),l.a.createElement(m.b,{path:"/login",component:z}),l.a.createElement(m.b,{path:"/signup",component:F}),l.a.createElement(E,{path:"/admin",component:P}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[41,1,2]]]);
//# sourceMappingURL=main.daa5513c.chunk.js.map